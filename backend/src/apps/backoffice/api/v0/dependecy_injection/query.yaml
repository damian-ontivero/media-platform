services:
  QueryBus:
    module: src.contexts.shared.infrastructure.bus.query.in_memory_query_bus
    class:
      name: InMemoryQueryBus
      arguments:
        - !tagged query_handler

  MediaSearchByCriteriaQueryHandler:
    module: src.contexts.backoffice.media.application.query.search_by_criteria_query_handler
    class:
      name: MediaSearchByCriteriaQueryHandler
      arguments:
        - !ref MediaRepository
    tags:
      - query_handler

  MediaFindByIdQueryHandler:
    module: src.contexts.backoffice.media.application.query.find_by_id_query_handler
    class:
      name: MediaFindByIdQueryHandler
      arguments:
        - !ref MediaRepository
    tags:
      - query_handler

  MediaCountQueryHandler:
    module: src.contexts.backoffice.media.application.query.count_query_handler
    class:
      name: MediaCountQueryHandler
      arguments:
        - !ref MediaRepository
    tags:
      - query_handler

  MovieSearchByCriteriaQueryHandler:
    module: src.contexts.backoffice.movies.application.query.search_by_criteria_query_handler
    class:
      name: MovieSearchByCriteriaQueryHandler
      arguments:
        - !ref MovieRepository
    tags:
      - query_handler

  MovieFindByIdQueryHandler:
    module: src.contexts.backoffice.movies.application.query.find_by_id_query_handler
    class:
      name: MovieFindByIdQueryHandler
      arguments:
        - !ref MovieRepository
    tags:
      - query_handler

  MovieCountQueryHandler:
    module: src.contexts.backoffice.movies.application.query.count_query_handler
    class:
      name: MovieCountQueryHandler
      arguments:
        - !ref MovieRepository
    tags:
      - query_handler
